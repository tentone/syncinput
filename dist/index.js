var t,e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},n={};e.d(n,{zx:()=>r,Wc:()=>t,Qz:()=>u,nJ:()=>d,bE:()=>h,yb:()=>c,Sl:()=>o,RN:()=>i,a7:()=>a,N1:()=>y,R8:()=>l,TK:()=>P,tc:()=>E,VP:()=>T,Xh:()=>g,GW:()=>_,FM:()=>m}),function(t){t[t.DOWN=-1]="DOWN",t[t.UP=1]="UP",t[t.RESET=0]="RESET"}(t||(t={}));var s,o,i,r=function(){function e(){this.pressed=!1,this.justPressed=!1,this.justReleased=!1}return e.prototype.update=function(e){this.justPressed=!1,this.justReleased=!1,e===t.DOWN?(this.pressed||(this.justPressed=!0),this.pressed=!0):e===t.UP?(this.pressed&&(this.justReleased=!0),this.pressed=!1):e===t.RESET&&(this.justReleased=!1,this.justPressed=!1)},e.prototype.set=function(t,e,n){this.justPressed=t,this.pressed=e,this.justReleased=n},e.prototype.reset=function(){this.justPressed=!1,this.pressed=!1,this.justReleased=!1},e}(),a=function(){function t(){}return t.prototype.initialize=function(){},t.prototype.dispose=function(){},t}(),u=function(){function t(){this.events=[]}return t.prototype.add=function(t,e,n){this.events.push([t,e,n,!1])},t.prototype.addAndCreate=function(t,e,n){t.addEventListener(e,n),this.events.push([t,e,n,!0])},t.prototype.clear=function(){this.destroy(),this.events=[]},t.prototype.remove=function(t,e){for(var n=this.events.length-1;n>=0;n--)this.events[n][0]===t&&this.events[n][1]===e&&(this.events[n][3]&&(this.events[n][0].removeEventListener(this.events[n][1],this.events[n][2]),this.events[n][3]=!1),this.events.splice(n,1))},t.prototype.create=function(){for(var t=0;t<this.events.length;t++){var e=this.events[t];e[0].addEventListener(e[1],e[2]),e[3]=!0}},t.prototype.destroy=function(){for(var t=0;t<this.events.length;t++){var e=this.events[t];e[0].removeEventListener(e[1],e[2]),e[3]=!1}},t}(),p=(s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),d=function(e){function n(){var t=e.call(this)||this;return t.id=null,t.mapping=null,t.connected=!1,t.index=-1,t.deadzone=.05,t.vibrationActuator=null,t.buttons=[],t.axes=[],t.gamepad=null,t.event=null,t.initialize(),t}return p(n,e),n.prototype.initialize=function(){var t=this;this.event=new u,this.event.add(window,"gamepadconnected",(function(e){console.log("SyncInput: Gamepad connected",e),-1!==t.index&&t.index!==e.gamepad.index||t.setGamepad(e.gamepad)})),this.event.add(window,"gamepaddisconnected",(function(e){console.log("SyncInput: Gamepad disconnected",e),t.index===e.gamepad.index&&(console.log("SyncInput: Lost connection to gamepad",e),t.disconnect())})),this.event.create();for(var e=this.getGamepads(),n=0;n<e.length;n++)return void this.setGamepad(e[n]);null===this.gamepad&&console.error("SyncInput: No gamepad found, waiting for connection.")},n.prototype.resetHaptic=function(){var t;(null===(t=this.vibrationActuator)||void 0===t?void 0:t.reset)&&this.vibrationActuator.reset()},n.prototype.startHapticEffect=function(t,e){var n;(null===(n=this.vibrationActuator)||void 0===n?void 0:n.playEffect)&&this.vibrationActuator.playEffect(t,e)},n.prototype.getGamepads=function(){return navigator.getGamepads().filter((function(t){return null!==t}))},n.prototype.setGamepad=function(t){if(t){this.index=t.index,this.gamepad=t,this.buttons=[];for(var e=0;e<t.buttons.length;e++)this.buttons.push(new r);this.setProductVendor(t),this.connected=!0}else console.warn("nunuStudio: No gamepad found"),this.disconnect()},n.prototype.disconnect=function(){this.buttons=[],this.connected=!1,this.gamepad=null},n.prototype.dispose=function(){this.disconnect(),this.mapping=null,this.vibrationActuator=null,this.id=null,this.index=-1,this.event.destroy(),this.event=null},n.prototype.setProductVendor=function(t){this.id=t.id,this.mapping=t.mapping,this.vibrationActuator=t.vibrationActuator},n.prototype.update=function(){if(this.connected&&(this.gamepad=navigator.getGamepads()[this.index],this.gamepad))for(var e=0;e<this.buttons.length;e++)this.buttons[e].update(this.gamepad.buttons[e].pressed?t.DOWN:t.UP)},n.prototype.applyDeadzone=function(t){return Math.abs(t)<this.deadzone?0:t},n.prototype.getAnalogueButton=function(t){return!this.gamepad||t<0||t>this.buttons.length?0:this.applyDeadzone(this.gamepad.buttons[t].value)},n.prototype.getAxis=function(t){return!this.gamepad||t<0||t>this.gamepad.axes.length?0:this.applyDeadzone(this.gamepad.axes[t])},n.prototype.buttonExists=function(t){return t>=0&&t<this.buttons.length},n.prototype.buttonPressed=function(t){return!!this.buttons[t]&&this.buttons[t].pressed},n.prototype.buttonJustPressed=function(t){return!!this.buttons[t]&&this.buttons[t].justPressed},n.prototype.buttonJustReleased=function(t){return!!this.buttons[t]&&this.buttons[t].justReleased},n}(a),c={LEFT:14,RIGHT:15,DOWN:13,UP:12,SELECT:8,START:9,HOME:16,LEFT_TRIGGER_A:4,LEFT_TRIGGER_B:6,RIGHT_TRIGGER_A:5,RIGHT_TRIGGER_B:7,L1:4,L2:6,L3:6,R1:5,R2:7,R3:11,A:0,B:1,C:2,D:3,X:2,Y:3,LEFT_ANALOGUE_BUT:10,RIGHT_ANALOGUE_BUT:11},h={LEFT_HOR:0,LEFT_VERT:1,RIGHT_HOR:2,RIGHT_VERT:3};!function(t){t.dualRumble="dual-rumble",t.triggerRumble="trigger-rumble"}(o||(o={})),function(t){t.none="",t.standard="standard",t.xrStandard="xr-standard"}(i||(i={}));var l={TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPS_LOCK:20,ESC:27,SPACEBAR:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,INSERT:45,DEL:46,LEFT:37,RIGHT:39,UP:38,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,NUM9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),y=function(e){function n(t){var n=e.call(this)||this;n.keys=[],n.actions=[],n.domElement=null,n.events=null,n.keys=new Array(256),n.actions=[],n.domElement=t||window;for(var s=0;s<256;s++)n.keys[s]=new r;return n.events=new u,n.initialize(),n.events.create(),n}return f(n,e),n.prototype.initialize=function(){var e=this.actions,n=this;this.events.add(this.domElement,"keydown",(function(n){e.push(n.keyCode),e.push(t.DOWN)})),this.events.add(this.domElement,"keyup",(function(n){e.push(n.keyCode),e.push(t.UP)})),this.events.add(this.domElement,"focus",(function(t){n.reset()}))},n.prototype.update=function(){for(var e=0;this.actions.length>e;){var n=this.actions.shift(),s=this.actions.shift();this.keys[n].update(s),(this.keys[n].justReleased||this.keys[n].justPressed)&&(this.actions.push(n),this.actions.push(t.RESET),e+=2)}},n.prototype.reset=function(){for(var t=0;t<this.keys.length;t++)this.keys[t].reset()},n.prototype.keyPressed=function(t){return this.keys[t].pressed},n.prototype.keyJustPressed=function(t){return this.keys[t].justPressed},n.prototype.keyJustReleased=function(t){return this.keys[t].justReleased},n.prototype.dispose=function(){this.events.destroy()},n}(a),m=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){this.x=t,this.y=e},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.add=function(t){this.x=t.x,this.y=t.y},t.prototype.divScalar=function(t){this.x/=t,this.y/=t},t.prototype.dist=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))},t}(),v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),E={LEFT:0,MIDDLE:1,RIGHT:2,BACK:3,FORWARD:4},P=function(e){function n(t,n){void 0===n&&(n=!1);var s=e.call(this)||this;s.positionUpdated=!1,s.wheelUpdated=!1,s.keys=new Array(5),s.position=new m(0,0),s.wheel=0,s.delta=new m(0,0),s.doubleClicked=!1,s.domElement=null,s.canvas=null,s.events=null,s.touchHandlers=!1,s.tempDoubleClicked=!1,s.tempWheel=0,s.tempDelta=new m(0,0),s.tempKeys=new Array(5),s.tempPosition=new m(0,0),s.domElement=t||window,s.touchHandlers=n,s.events=new u;for(var o=0;o<5;o++)s.tempKeys[o]=new r,s.keys[o]=new r;return s.initialize(),s.events.create(),s}return v(n,e),n.prototype.initialize=function(){var e=this;if(void 0!==window.onmousewheel?this.events.add(this.domElement,"mousewheel",(function(t){e.tempWheel=t.deltaY,e.wheelUpdated=!0,t.stopPropagation()})):void 0!==window.addEventListener?this.events.add(this.domElement,"DOMMouseScroll",(function(t){e.tempWheel=30*t.detail,e.wheelUpdated=!0,t.stopPropagation()})):this.events.add(this.domElement,"wheel",(function(t){e.tempWheel=t.deltaY,e.wheelUpdated=!0,t.stopPropagation()})),this.touchHandlers&&("ontouchstart"in window||navigator.msMaxTouchPoints>0)){var n=new m(0,0);this.events.add(this.domElement,"touchstart",(function(s){var o=s.touches[0];e.updatePosition(o.screenX,o.screenY,0,0),e.updateKey(E.LEFT,t.DOWN),n.set(o.screenX,o.screenY)})),this.events.add(this.domElement,"touchend",(function(n){e.updateKey(E.LEFT,t.UP)})),this.events.add(this.domElement,"touchcancel",(function(n){e.updateKey(E.LEFT,t.UP)})),this.events.add(document.body,"touchmove",(function(t){var s=t.touches[0];e.updatePosition(s.screenX,s.screenY,s.screenX-n.x,s.screenY-n.y),n.set(s.screenX,s.screenY)}))}this.events.add(this.domElement,"mousemove",(function(t){e.updatePosition(t.offsetX,t.offsetY,t.movementX,t.movementY)})),this.events.add(this.domElement,"mousedown",(function(n){e.updateKey(n.which-1,t.DOWN)})),this.events.add(this.domElement,"mouseup",(function(n){e.updateKey(n.which-1,t.UP)})),this.events.add(this.domElement,"mouseleave",(function(n){e.updateKey(n.which-1,t.UP)})),this.events.add(this.domElement,"dragstart",(function(n){e.updateKey(n.which-1,t.UP)})),this.events.add(this.domElement,"dblclick",(function(t){e.tempDoubleClicked=!0}))},n.prototype.setCanvas=function(t){this.canvas=t,t.mouseInside=!1,t.addEventListener("mouseenter",(function(t){this.mouseInside=!0})),t.addEventListener("mouseleave",(function(t){this.mouseInside=!1}))},n.prototype.insideCanvas=function(){return null!==this.canvas&&this.canvas.mouseInside},n.prototype.setLock=function(t){null!==this.canvas&&(t?this.canvas.requestPointerLock?this.canvas.requestPointerLock():this.canvas.mozRequestPointerLock?this.canvas.mozRequestPointerLock():this.canvas.webkitRequestPointerLock&&this.canvas.webkitRequestPointerLock():document.exitPointerLock?document.exitPointerLock():document.mozExitPointerLock?document.mozExitPointerLock():document.webkitExitPointerLock&&document.webkitExitPointerLock())},n.prototype.buttonPressed=function(t){return this.keys[t].pressed},n.prototype.buttonDoubleClicked=function(){return this.doubleClicked},n.prototype.buttonJustPressed=function(t){return this.keys[t].justPressed},n.prototype.buttonJustReleased=function(t){return this.keys[t].justReleased},n.prototype.updatePosition=function(t,e,n,s){this.tempPosition.set(t,e),this.tempDelta.x+=n,this.tempDelta.y+=s,this.positionUpdated=!0},n.prototype.updateKey=function(t,e){t>-1&&this.tempKeys[t].update(e)},n.prototype.update=function(){for(var t=0;t<this.tempKeys.length;t++)this.tempKeys[t].justPressed&&this.keys[t].justPressed&&(this.tempKeys[t].justPressed=!1),this.tempKeys[t].justReleased&&this.keys[t].justReleased&&(this.tempKeys[t].justReleased=!1),this.keys[t].set(this.tempKeys[t].justPressed,this.tempKeys[t].pressed,this.tempKeys[t].justReleased);this.wheelUpdated?(this.wheel=this.tempWheel,this.wheelUpdated=!1):this.wheel=0,this.tempDoubleClicked?(this.doubleClicked=!0,this.tempDoubleClicked=!1):this.doubleClicked=!1,this.positionUpdated?(this.delta.copy(this.tempDelta),this.position.copy(this.tempPosition),this.tempDelta.set(0,0),this.positionUpdated=!1):(this.delta.x=0,this.delta.y=0)},n.prototype.dispose=function(){this.events.destroy()},n}(a),w=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.position=new m,e.delta=new m,e.first=new m,e.radius=new m,e.force=0,e.rotation=0,e}return w(e,t),e}(r),R=function(){this.action=t.UP,this.first=new m,this.position=new m,this.last=new m,this.force=0,this.radius=new m,this.rotation=0},g=function(e){function n(t,n){void 0===t&&(t=3);var s=e.call(this)||this;return s.maxPoints=3,s.points=[],s.temp=[],s.domElement=null,s.events=null,s.pinch=null,s.domElement=void 0!==n?n:window,s.maxPoints=t,s.points=new Array(s.maxPoints).fill(null).map((function(){return new _})),s.temp=new Array(s.maxPoints).fill(null).map((function(){return new R})),s.events=new u,s.initialize(),s.events.create(),s}return w(n,e),n.prototype.initialize=function(){var e=this;this.events.add(this.domElement,"touchstart",(function(n){for(var s=0;s<n.changedTouches.length;s++){var o=n.changedTouches[s];if(!(o.identifier>=e.maxPoints)){var i=new m(o.screenX,o.screenY);e.temp[o.identifier].first.copy(i),e.temp[o.identifier].last.copy(i),e.updatePoint(o.identifier,t.DOWN,o.force,o.rotationAngle,i,new m(o.radiusX,o.radiusY))}}})),this.events.add(this.domElement,"touchend",(function(n){for(var s=0;s<n.changedTouches.length;s++){var o=n.changedTouches[s];o.identifier>=e.maxPoints||e.updatePoint(o.identifier,t.UP,o.force,o.rotationAngle,new m(o.screenX,o.screenY),new m(o.radiusX,o.radiusY))}})),this.events.add(this.domElement,"touchcancel",(function(n){for(var s=0;s<n.changedTouches.length;s++){var o=n.changedTouches[s];o.identifier>=e.maxPoints||e.updatePoint(o.identifier,t.UP,o.force,o.rotationAngle,new m(o.screenX,o.screenY),new m(0,0))}})),this.events.add(document.body,"touchmove",(function(n){for(var s=0;s<n.changedTouches.length;s++){var o=n.changedTouches[s];o.identifier>=e.maxPoints||e.updatePoint(o.identifier,t.DOWN,o.force,o.rotationAngle,new m(o.screenX,o.screenY),new m(o.radiusX,o.radiusY))}}))},n.prototype.updatePoint=function(t,e,n,s,o,i){this.temp[t].force=n,this.temp[t].rotation=s,this.temp[t].position.copy(o),this.temp[t].radius.copy(i),this.temp[t].action=e},n.prototype.update=function(){var t=null;this.points[0].pressed&&this.points[1].pressed&&(t=this.points[0].position.dist(this.points[1].position));for(var e=0;e<this.temp.length;e++)this.points[e].force=this.temp[e].force,this.points[e].rotation=this.temp[e].rotation,this.points[e].radius.copy(this.temp[e].radius),this.points[e].position.copy(this.temp[e].position),this.points[e].delta.set(this.temp[e].position.x-this.temp[e].last.x,this.temp[e].position.y-this.temp[e].last.y),this.points[e].update(this.temp[e].action),this.points[e].justPressed&&this.points[e].first.copy(this.temp[e].first),this.temp[e].last.copy(this.temp[e].position);t&&this.points[0].pressed&&this.points[1].pressed?this.pinch=this.points[0].position.dist(this.points[1].position)-t:this.pinch=null},n.prototype.pan=function(t){for(var e=new m,n=new m,s=0,o=0;o<this.points.length;o++)this.points[o].pressed&&(e.add(this.points[o].position),n.add(this.points[o].delta),s++);return s===t?(e.divScalar(t),n.divScalar(t),{position:e,delta:n}):null},n.prototype.pinchZoom=function(){return this.pinch},n.prototype.touchPressed=function(t){return this.points[t].pressed},n.prototype.touchJustPressed=function(t){return this.points[t].justPressed},n.prototype.touchJustReleased=function(t){return this.points[t].justReleased},n.prototype.dispose=function(){this.events.destroy()},n}(a),T={ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40,ENTER:13,BACK:10009,VOLUME_UP:447,VOLUME_DOWN:448,VOLUME_MUTE:449,CHANNEL_UP:427,CHANNEL_DOWN:428,F0_RED:403,F1_GREEN:404,F2_YELLOW:405,F3_BLUE:406,NUM_0:48,NUM_1:49,NUM_2:50,NUM_3:51,NUM_4:52,NUM_5:53,NUM_6:54,NUM_7:55,NUM_8:56,NUM_9:57,MINUS:189,E_MANUAL:10146,PREVIOUS_CHANNEL:10190,PICTURE_SIZE:10140,SOCCER:10228,TELETEXT:10200,SEARCH:10225,GUIDE:458,SOURCE:10072,EXTRA:10253,MTS:10195,MEDIA_PLAY_PAUSE:10252,MENU:18,MEDIA_REWIND:412,TOOLS:10135,MEDIA_FAST_FORWARD:417,INFO:457,MEDIA_PLAY:415,EXIT:10182,MEDIA_PAUSE:19,MEDIA_STOP:413,CAPTION:10221,MEDIA_RECORD:416,CHANNEL_LIST:10073,MEDIA_TRACK_PREVIOUS:10232,MEDIA_TRACK_NEXT:10233,MEDIA_3D:10199},A=n.zx,b=n.Wc,U=n.Qz,O=n.nJ,N=n.bE,L=n.yb,M=n.Sl,k=n.RN,x=n.a7,D=n.N1,I=n.R8,j=n.TK,S=n.tc,C=n.VP,G=n.Xh,F=n.GW,W=n.FM;export{A as Button,b as ButtonAction,U as EventManager,O as Gamepad,N as GamepadAxis,L as GamepadButton,M as GamepadHapticEffectType,k as GamepadMappingType,x as InputHandler,D as Keyboard,I as Keys,j as Mouse,S as MouseButton,C as TizenKeys,G as Touch,F as TouchPoint,W as Vector2};